#!/usr/bin/env ruby
# git get-pr - display pull request (previously set with git-set-pr)

require 'yaml'

settings_file = File.expand_path("~/.git-set-pr.yml")

pr = YAML.load_file(settings_file).fetch(Dir.pwd)

path = `git remote show origin | grep "Fetch URL" | awk '{ print $3 }'`
    .sub(/^.+@.+:/, '')
    .sub(/\.git$/, '')
    .strip

puts "https://github.com/#{path}/pull/#{pr}"
