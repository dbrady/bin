#!/bin/bash
# snow-go-master

if [ `uname -s` == "Darwin" ]; then
    echo -e "\033[31mThis script runs in Docker, not OSX.\033[0m"
    exit -1
fi

echo -e "WARNING! This will reset your warehouse and finance repos to the \033[1;37;41m!!!  MASTER  !!! \033[0m branch, NOT SNOWFLAKE."
echo "It will also clear ~/.ds_script."
echo HIT CTRL-C TO ABORT, PRESS ENTER OTHERWISE:
read
echo starting... &&

    echo -e "\033[94mcd ~/data_services/etl/warehouse/\033[0m" &&
    (cd ~/data_services/etl/warehouse/ &&

         echo -e "\033[36mgit checkout master finance\033[0m" &&
         git checkout master finance &&

         echo -e "\033[36mgit main\033[0m" &&
         git main &&

         echo -e "\033[36mgit pull\033[0m" &&
         git pull) &&

    echo -e "\033[94mcd ~/data_services/etl/warehouse/finance/\033[0m" &&
    (cd ~/data_services/etl/warehouse/finance/ &&

         echo -e "\033[36mgit main\033[0m" &&
         git main &&

         echo -e "\033[36mgit pull\033[0m" &&
         git pull) &&

    echo -e "\033[94mcd ~/data_services/etl/warehouse/\033[0m" &&
    (cd ~/data_services/etl/warehouse/ &&

         echo -e "\033[36mgit checkout master finance\033[0m" &&
         git checkout master finance) &&

    echo -e "\033[31;40NOT CLEARING DS-SCRIPT. #GLHF\033[0m" &&
    # echo -e "\033[36mclear-ds-script\033[0m" &&
    # clear-ds-script &&

    echo done.
